(this["webpackJsonpmaterial-playground"]=this["webpackJsonpmaterial-playground"]||[]).push([[0],{108:function(e,t,a){e.exports=a(133)},113:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),o=a.n(l),i=(a(113),a(11)),c=a(198),u=a(183),s=a(92),m=a(177),d=Object(s.a)({palette:{primary:m.a}}),f=a(79),g=a.n(f),p=(a(116),a(120),a(134),g.a.initializeApp({apiKey:"AIzaSyDh7E6wQTkc3PO63y8CQkHBP6Er00Ub1AI",authDomain:"asocial-1602f.firebaseapp.com",databaseURL:"https://asocial-1602f.firebaseio.com",projectId:"asocial-1602f",storageBucket:"asocial-1602f.appspot.com",messagingSenderId:"223025629067",appId:"1:223025629067:web:9b8a0f7d164210b352d18e",measurementId:"G-0SMEGNZ5GQ"})),E=p.auth(),b=p.firestore(),h=p.storage(),v=a(80),O=r.a.createContext(),j=function(e){return r.a.createElement(O.Provider,{value:e.user},e.children)},C=a(64),y=a(189),S=a(190),x=a(192),N=a(184),w=a(94),k=a(203),W=a(93),I=a(191),T=a(180),P=a(201),_=a(97),R=a(188),A=a(186),B=Object(u.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),z=r.a.forwardRef((function(e,t){return r.a.createElement(T.a,Object.assign({direction:"up",ref:t},e))})),U=function(e){var t=Object(n.useContext)(O),a=B(),l=Object(n.useState)(),o=Object(i.a)(l,2),c=o[0],u=o[1],s=Object(n.useState)(null),m=Object(i.a)(s,2),d=m[0],f=m[1];Object(n.useEffect)((function(){null!=t&&b.collection("users").doc(t.uid).get().then((function(e){u(e.data())}))}),[t]);return r.a.createElement("div",null,r.a.createElement(P.a,{open:e.open,onClose:e.close,TransitionComponent:z,fullWidth:!0,maxWidth:"md"},r.a.createElement(y.a,{className:a.appBar},r.a.createElement(S.a,null,r.a.createElement(N.a,{edge:"start",color:"inherit",onClick:e.close,"aria-label":"close"},r.a.createElement(I.a,null)),r.a.createElement(_.a,{variant:"h6",className:a.title},"Edit Profile"),r.a.createElement(R.a,{autoFocus:!0,color:"inherit",onClick:e.close},"save"))),r.a.createElement(A.a,null,c?r.a.createElement("div",null,c.firstName):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",null,r.a.createElement(W.a,{filesLimit:1,onChange:function(e){return f(e[0])}})),r.a.createElement("div",null,r.a.createElement(R.a,{onClick:function(){h.ref("/profilePictures/"+t.uid).put(d).then((function(){h.ref("/profilePictures/"+t.uid).getDownloadURL().then((function(e){b.collection("users").doc(t.uid).update({image:e})}))}))}},"upload")))))},F=function(e){Object(n.useContext)(O);var t=Object(n.useState)(),a=Object(i.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)(!1),u=Object(i.a)(c,2),s=u[0],m=u[1],d=Boolean(l);return r.a.createElement("div",null,r.a.createElement(N.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},color:"inherit",size:"medium"},r.a.createElement(x.a,{fontSize:"large"})),r.a.createElement(w.a,{id:"menu-appbar",anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:d,onClose:function(){o(null)}},r.a.createElement(k.a,{onClick:function(){m(!0),o(null)}},"Edit Profile"),r.a.createElement(k.a,{onClick:function(){E.signOut()}},"Sign Out")),r.a.createElement(U,{open:s,close:function(){return m(!1)}}))},L=Object(u.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,marginLeft:25,fontWeight:800},logo:{height:"25px"},toolBar:{display:"grid",gridTemplateColumns:"100px 1fr 100px"},logoContainer:{gridColumn:1},userContainer:{gridColumn:3,alignSelf:"center",justifySelf:"end"}}})),G=function(e){var t=Object(n.useContext)(O),a=L();return r.a.createElement("div",null,r.a.createElement(y.a,{position:"static"},r.a.createElement(S.a,{className:a.toolBar},r.a.createElement("div",{className:a.logoContainer},r.a.createElement("img",{className:a.logo,src:"logo_line.png",alt:""})),r.a.createElement("div",{className:a.userContainer},t?r.a.createElement(F,null):r.a.createElement("div",null)))))},D=a(69),M=a(193),Q=a(194),H=a(204),J=Object(u.a)((function(e){return{root:{display:"grid",gridTemplateRows:"min-content min-content",gap:"5px",minWidth:100},large:{width:e.spacing(8),height:e.spacing(8)}}})),q=function(e){var t,a,n=J();return r.a.createElement("div",{className:n.root},r.a.createElement(H.a,{className:n.large,alt:"Remy Sharp",src:e.user?e.user.image:""}),r.a.createElement(_.a,{color:"textSecondary"},e.user?(t=e.user.firstName,a=e.user.lastName,t+" "+a.substring(0,1)+"."):r.a.createElement(r.a.Fragment,null)))},K=a(195),Z=a(196),$=a(90),V=a.n($),X=a(91),Y=a.n(X),ee=Object(u.a)((function(e){return{root:{display:"grid",gridTemplateRows:"auto auto",gap:"10px"}}})),te=function(e){var t=ee();return r.a.createElement(M.a,{elevation:5},r.a.createElement(Q.a,{className:t.root},r.a.createElement("div",{className:t.body},r.a.createElement(_.a,null,e.text)),r.a.createElement("div",null,r.a.createElement(_.a,{variant:"subtitle2",color:"textSecondary"},e.date))),r.a.createElement(K.a,null),r.a.createElement(Z.a,null,r.a.createElement(N.a,{"aria-label":"add to favorites"},r.a.createElement(V.a,null)),r.a.createElement(N.a,{"aria-label":"comment"},r.a.createElement(Y.a,null))))},ae=Object(u.a)((function(e){return{root:{minWidth:475},layout:{display:"grid",gridTemplateColumns:"auto 1fr",gap:"30px"}}})),ne=function(e){var t=ae(),a=Object(n.useState)(),l=Object(i.a)(a,2),o=l[0],c=l[1];return Object(n.useEffect)((function(){b.collection("users").doc(e.uid).onSnapshot((function(e){c(e.data())}))}),[]),r.a.createElement(M.a,{className:t.root,elevation:0},r.a.createElement(Q.a,{className:t.layout},r.a.createElement(q,{user:o}),r.a.createElement(te,{date:e.date,text:e.text})))},re=a(199),le=Object(u.a)((function(e){return{root:{minWidth:475,margin:20},layout:{margin:15}}})),oe=function(){var e=le(),t=Object(n.useContext)(O),a=Object(n.useState)(),l=Object(i.a)(a,2),o=l[0],c=l[1],u=Object(C.b)(),s=u.enqueueSnackbar;u.closeSnackbar;return r.a.createElement(M.a,{className:e.root,elevation:5},r.a.createElement(Q.a,{className:e.layout},r.a.createElement(re.a,{fullWidth:!0,id:"standard-textarea",placeholder:"What's on your mind?",value:o,multiline:!0,onChange:function(e){return c(e.target.value)}})),r.a.createElement(Z.a,null,r.a.createElement(R.a,{onClick:function(){return function(e,t,a){b.collection("posts").doc().set({userId:t,text:e,createdAt:(new Date).toLocaleDateString()}).then((function(){a(),c("")}))}(o,t.uid,(function(){return s("Post created!",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"}})}))}},"Post")))},ie=Object(u.a)((function(e){return{root:{display:"grid",gridTemplateRows:"auto auto",gap:"30px",padding:10}}})),ce=function(){var e=ie(),t=Object(n.useState)([]),a=Object(i.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)(),u=Object(i.a)(c,2),s=u[0],m=u[1],d=Object(n.useContext)(O);return Object(n.useEffect)((function(){b.collection("posts").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),o(t)})),b.collection("users").doc(d.uid).onSnapshot((function(e){m(e.data())}))}),[]),r.a.createElement(D.a,{className:e.root,elevation:3},r.a.createElement(oe,null),s?l.map((function(e){if(e.userId==d.uid||(t=e.userId,s.following.includes(t)))return r.a.createElement(ne,{key:e._id,text:e.text,date:e.createdAt,uid:e.userId});var t})):r.a.createElement(r.a.Fragment,null))},ue=Object(u.a)((function(e){return{root:{flexGrow:1,height:"100%"},body_layout:{margin:20,display:"grid",gridTemplateColumns:"1fr 3fr 1fr",gap:"20px"}}})),se=function(){var e=ue();return r.a.createElement("div",{className:e.body_layout},r.a.createElement("div",null),r.a.createElement(ce,null),r.a.createElement("div",null))},me=a(185),de=a(187),fe=function(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)(),u=Object(i.a)(c,2),s=u[0],m=u[1];return r.a.createElement("div",null,r.a.createElement(P.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(me.a,{id:"form-dialog-title"},"Sign In"),r.a.createElement(A.a,null,r.a.createElement(re.a,{onChange:function(e){return o(e.target.value)},autoFocus:!0,margin:"dense",id:"email",label:"Email Address",type:"email",fullWidth:!0}),r.a.createElement(re.a,{onChange:function(e){return m(e.target.value)},margin:"dense",id:"pass",label:"Password",type:"password",fullWidth:!0})),r.a.createElement(de.a,null,r.a.createElement(R.a,{variant:"contained",onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(R.a,{variant:"contained",onClick:function(){return function(e,t){E.signInWithEmailAndPassword(e,t)}(l,s)},color:"primary"},"Sign In"))))},ge=a(197),pe=function(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)(),u=Object(i.a)(c,2),s=u[0],m=u[1],d=Object(n.useState)(),f=Object(i.a)(d,2),g=f[0],p=f[1],h=Object(n.useState)(),v=Object(i.a)(h,2),O=v[0],j=v[1];return r.a.createElement("div",null,r.a.createElement(P.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(me.a,{id:"form-dialog-title"},"Sign Up"),r.a.createElement(A.a,null,r.a.createElement(ge.a,null,"To become asocial, just enter your details here:"),r.a.createElement(re.a,{autoFocus:!0,onChange:function(e){return p(e.target.value)},margin:"dense",id:"firstName",label:"First Name",type:"text",fullWidth:!0}),r.a.createElement(re.a,{onChange:function(e){return j(e.target.value)},margin:"dense",id:"lastName",label:"Last Name",type:"text",fullWidth:!0}),r.a.createElement(re.a,{onChange:function(e){return o(e.target.value)},margin:"dense",id:"email",label:"Email Address",type:"email",fullWidth:!0}),r.a.createElement(re.a,{onChange:function(e){return m(e.target.value)},margin:"dense",id:"pass",label:"Password",type:"password",fullWidth:!0})),r.a.createElement(de.a,null,r.a.createElement(R.a,{variant:"contained",onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(R.a,{variant:"contained",onClick:function(){return function(e,t,a,n){E.createUserWithEmailAndPassword(e,t).then((function(t){return b.collection("users").doc(t.user.uid).set({firstName:a,lastName:n,email:e,following:[]})})).catch((function(e){var t=e.code,a=e.message;console.log(t+": "+a)}))}(l,s,g,O)},color:"primary"},"Sign Up"))))},Ee=Object(u.a)((function(e){return{root:{margin:30,minHeight:"80vh",display:"grid",gridTemplateColumns:"1fr auto 1fr",gridTemplateRows:"1fr auto 1fr"},main_content:{gridRow:2,gridColumn:2,display:"grid",gridTemplateRows:"auto auto auto auto",gap:"25px",textAlign:"center"},pre_title:{fontSize:30},title:{fontWeight:800},logo:{width:"150px"},sub_title:{fontSize:19,fontWeight:100},button_container:{display:"grid",gridTemplateColumns:"auto auto",gap:"10px"}}})),be=function(e){var t=Ee(),a=Object(n.useState)(!1),l=Object(i.a)(a,2),o=l[0],c=l[1],u=Object(n.useState)(!1),s=Object(i.a)(u,2),m=s[0],d=s[1];return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.main_content},r.a.createElement("div",{className:t.pre_title},"Welcome to ",r.a.createElement("span",{className:t.title},"asocial_")),r.a.createElement("div",null,r.a.createElement("img",{className:t.logo,src:"logo.png",alt:""})),r.a.createElement("div",{className:t.sub_title},"the first open source social network"),r.a.createElement("div",{className:t.button_container},r.a.createElement(R.a,{variant:"contained",color:"primary",onClick:function(){return c(!0)}},"Sign In"),r.a.createElement(R.a,{variant:"contained",color:"primary",onClick:function(){return d(!0)}},"Sign Up"),r.a.createElement(fe,{open:o,handleClose:function(){return c(!1)}}),r.a.createElement(pe,{open:m,handleSave:function(t,a){e.signUp(t,a),d(!1)},handleClose:function(){return d(!1)}}))))},he=Object(u.a)((function(e){return{root:{height:"100%"}}}));var ve=function(){var e=Object(v.a)(E),t=Object(i.a)(e,1)[0],a=he();return r.a.createElement(C.a,{maxSnack:3},r.a.createElement("div",{className:a.root},r.a.createElement(c.a,{theme:d},r.a.createElement(j,{user:t},r.a.createElement(G,null),t?r.a.createElement(se,null):r.a.createElement(be,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ve,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[108,1,2]]]);
//# sourceMappingURL=main.b6583a12.chunk.js.map